{"ast":null,"code":"import'bootstrap/dist/css/bootstrap.min.css';import\"../Styles/MainStyle.css\";import\"../Styles/form.css\";import Loading from'./loading';import React,{useEffect,useState}from'react';import{connect,useDispatch}from'react-redux';import{fetchUsers}from'../redux/userActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FormContent(props){const[fio,setFIO]=useState('');const[email,setEmail]=useState('');const[tel,setTel]=useState('');const[comment,setComment]=useState('');const[error,setError]=useState('');const dispatch=useDispatch();useEffect(()=>{setInputValues();},[]);function ClearInputs(){setFIO('');setEmail('');setTel('');setComment('');}function onSubmit(e){e.preventDefault();//e.stopPropagation();\n// fetch('https://formcarry.com/s/fCsjmrtmZ4', {\n// method: 'POST',\n// headers: {'Content-Type': 'application/json', 'Accept': 'application/json'},\n// body: localStorage.user\n// })\n// .then(response => {\n//     console.log(response);\n//     localStorage.clear();\n//     ClearInputs();})\n// .catch(error => {\n//     console.log(error);\n//     localStorage.clear();\n//     ClearInputs();});\ndispatch(fetchUsers());ClearInputs();}function setInputValues(){if(localStorage.user!=null){let data=JSON.parse(localStorage.user);setFIO(data.fio);setEmail(data.email);setTel(data.tel);setComment(data.comment);}}function safeToLocalStorage(){console.log({fio,tel,email,comment});localStorage.user=JSON.stringify({fio,tel,email,comment});}return/*#__PURE__*/_jsxs(\"div\",{children:[props.loadingProgress&&/*#__PURE__*/_jsx(\"div\",{class:\"loading-container\",children:/*#__PURE__*/_jsx(Loading,{})}),!props.loadingProgress&&/*#__PURE__*/_jsxs(\"form\",{action:\"https://formcarry.com/s/fCsjmrtmZ4\",method:\"POST\",\"accept-charset\":\"UTF-8\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:fio,onChange:e=>{setFIO(e.target.value);safeToLocalStorage();},class:\"form-control\",id:\"name\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",for:\"phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",pattern:\"\\\\d*\",value:tel,onChange:e=>{setTel(e.target.value);safeToLocalStorage();},class:\"form-control\",id:\"phone\",placeholder:\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>{setEmail(e.target.value);safeToLocalStorage();},class:\"form-control\",id:\"email\",placeholder:\"E-mail\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"comment\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"6\",type:\"text\",value:comment,onChange:e=>{setComment(e.target.value);safeToLocalStorage();},class:\"form-control\",id:\"comment\",placeholder:\"\\u0412\\u0430\\u0448 \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-check-input\",type:\"checkbox\",id:\"agree\",required:true}),/*#__PURE__*/_jsx(\"label\",{class:\"form-check-label\",for:\"agree\",children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u044F \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443, \\u044F \\u0434\\u0430\\u044E \\u0441\\u043E\\u0433\\u043B\\u0430\\u0441\\u0438\\u0435 \\u043D\\u0430 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0443 \\u0441\\u0432\\u043E\\u0438\\u0445 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0445 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:e=>onSubmit(e),class:\"form-button\",children:\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443!\"})]})]});}const mapStateToProps=state=>{console.log(state);return{loadingProgress:state.user.loading};};export default connect(mapStateToProps)(FormContent);","map":{"version":3,"names":["Loading","React","useEffect","useState","connect","useDispatch","fetchUsers","jsx","_jsx","jsxs","_jsxs","FormContent","props","fio","setFIO","email","setEmail","tel","setTel","comment","setComment","error","setError","dispatch","setInputValues","ClearInputs","onSubmit","e","preventDefault","localStorage","user","data","JSON","parse","safeToLocalStorage","console","log","stringify","children","loadingProgress","class","action","method","for","type","value","onChange","target","id","placeholder","htmlFor","pattern","rows","required","onClick","mapStateToProps","state","loading"],"sources":["E:/web/WebProject/univer-project/src/Components/formContent.js"],"sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css'\r\nimport \"../Styles/MainStyle.css\"\r\nimport \"../Styles/form.css\"\r\nimport Loading from './loading'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { connect, useDispatch } from 'react-redux'\r\nimport { fetchUsers } from '../redux/userActions'\r\n\r\nfunction FormContent(props) {\r\n\r\n    const [fio, setFIO] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [tel, setTel] = useState('')\r\n    const [comment, setComment] = useState('')\r\n    const [error, setError] = useState('')\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        setInputValues();\r\n    }, []);\r\n\r\n    function ClearInputs()\r\n    {\r\n        setFIO('');\r\n        setEmail('');\r\n        setTel('');\r\n        setComment('');\r\n    }\r\n\r\n    function onSubmit(e){\r\n\r\n        e.preventDefault();\r\n        //e.stopPropagation();\r\n\r\n        // fetch('https://formcarry.com/s/fCsjmrtmZ4', {\r\n        // method: 'POST',\r\n        // headers: {'Content-Type': 'application/json', 'Accept': 'application/json'},\r\n        // body: localStorage.user\r\n        // })\r\n        // .then(response => {\r\n        //     console.log(response);\r\n        //     localStorage.clear();\r\n        //     ClearInputs();})\r\n        // .catch(error => {\r\n        //     console.log(error);\r\n        //     localStorage.clear();\r\n        //     ClearInputs();});\r\n\r\n        dispatch(fetchUsers());\r\n        ClearInputs();\r\n    } \r\n\r\n    function setInputValues()\r\n    {\r\n        if(localStorage.user != null)\r\n        {\r\n            let data = JSON.parse(localStorage.user);\r\n            setFIO(data.fio);\r\n            setEmail(data.email);\r\n            setTel(data.tel);\r\n            setComment(data.comment);\r\n        }\r\n    }\r\n\r\n    function safeToLocalStorage()\r\n    {\r\n        console.log({fio, tel, email, comment});\r\n        localStorage.user = JSON.stringify({fio, tel, email, comment});\r\n    }\r\n\r\n  return (\r\n<div>\r\n    { props.loadingProgress && \r\n        <div class=\"loading-container\">\r\n            <Loading/>\r\n        </div>\r\n    }\r\n    { !props.loadingProgress &&\r\n        <form action=\"https://formcarry.com/s/fCsjmrtmZ4\" method=\"POST\" accept-charset=\"UTF-8\" >\r\n            <div class=\"form-group\">\r\n                <label for=\"name\"></label>\r\n                <input type=\"text\" value={fio} onChange={(e) => {setFIO(e.target.value); safeToLocalStorage();}} class=\"form-control\" id=\"name\" placeholder=\"Ваше имя\"/>\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label htmlFor=\"phone\" for=\"phone\"></label>\r\n                <input type=\"tel\" pattern=\"\\d*\" value={tel} onChange={(e) => {setTel(e.target.value); safeToLocalStorage();}} class=\"form-control\" id=\"phone\"  placeholder=\"Телефон\"/>\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"email\"></label>\r\n                <input type=\"email\" value={email} onChange={(e) => {setEmail(e.target.value); safeToLocalStorage();}} class=\"form-control\" id=\"email\" placeholder=\"E-mail\"/>\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"comment\"></label>\r\n                <textarea rows=\"6\" type=\"text\" value={comment} onChange={(e) => {setComment(e.target.value); safeToLocalStorage();}} class=\"form-control\" id=\"comment\" placeholder=\"Ваш комментарий\"/>\r\n            </div>\r\n            <div class=\"form-check\">\r\n                <input class=\"form-check-input\" type=\"checkbox\" id=\"agree\" required/>\r\n                <label class=\"form-check-label\" for=\"agree\">\r\n                    Отправляя заявку, я даю согласие на обработку своих персональных данных\r\n                </label>\r\n            </div>\r\n            <button type=\"submit\" onClick={(e) => onSubmit(e)} class=\"form-button\">Оставить заявку!</button>    \r\n        </form>\r\n    }\r\n</div>\r\n    \r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    console.log(state)\r\n    return{\r\n        loadingProgress: state.user.loading,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FormContent);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}